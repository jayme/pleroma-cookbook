use Mix.Config

config :pleroma, Pleroma.Web.Endpoint,
  http: [port: 4000],
  protocol: "http",
  debug_errors: true,
  code_reloader: true,
  check_origin: false,
  secret_key_base: "<%= @pleroma[:secret_key] %>",
  watchers: []

config :pleroma, Pleroma.Repo,
  adapter: Ecto.Adapters.Postgres,
  username: "<%= @pleroma[:db_username] %>",
  password: "<%= @pleroma[:db_password] %>",
  database: "<%= @pleroma[:db_database] %>",
  hostname: "<%= @pleroma[:db_hostname] %>",
  pool_size: 8

config :pleroma, Pleroma.Web.Endpoint,
  url: [host: "<%= @pleroma[:hostname] %>", scheme: "https", port: 443]

config :pleroma, :instance,
  name: "<%= @pleroma[:hostname] %>",
  email: "<%= @pleroma[:email] %>",
  description: "",
  limit: 1000,
  upload_limit: 16_000_000

config :logger,
  :console, format: "[$level] $message\n",
  level: :debug

config :pleroma, :mrf_simple,
  media_removal: ["pawoo.net", "mstdn.jp"],
  media_nsfw: ["switter.at", "kinky.business"],
  federated_timeline_removal: ["pawoo.net", "mstdn.jp"],
  reject: ["freezepeach.xyz", "pl.smuglo.li", "pleroma.rareome.ga", "girlcock.club" ]

config :pleroma, :chat, enabled: false

config :pleroma, Pleroma.Upload, filters: [Pleroma.Upload.Filter.Mogrify, Pleroma.Upload.Filter.Dedupe, Pleroma.Upload.Filter.AnonymizeFilename]

config  :pleroma, Pleroma.Upload.Filter.Mogrify, args: "strip"

import_config "extra/*"
