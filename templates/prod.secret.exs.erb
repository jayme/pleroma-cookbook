use Mix.Config

config :pleroma, Pleroma.Web.Endpoint,
  http: [port: <%= @pleroma[:port] %>],
  protocol: "<%= @pleroma[:protocol] %>",
  debug_errors: <%= @pleroma[:debug_errors] %>,
  code_reloader: <%= @pleroma[:code_reloader] %>,
  check_origin: <%= @pleroma[:check_origin] %>,
  secret_key_base: "<%= @pleroma[:secret_key] %>",
  watchers: []

config :pleroma, Pleroma.Repo,
  adapter: Ecto.Adapters.Postgres,
  username: "<%= @pleroma[:db_username] %>",
  password: "<%= @pleroma[:db_password] %>",
  database: "<%= @pleroma[:db_database] %>",
  hostname: "<%= @pleroma[:db_hostname] %>",
  pool_size: "<%= @pleroma[:db_pool_size] %>"

config :pleroma, Pleroma.Web.Endpoint,
  url: [
        host: "<%= @pleroma[:hostname] %>", 
        scheme: "<%= @pleroma[:url_scheme] %>", 
        port: <%= @pleroma[:url_port] %>
      ]

config :pleroma, :instance,
  name: "<%= @pleroma[:hostname] %>",
  email: "<%= @pleroma[:email] %>",
  description: "<%= @pleroma[:description] %>",
  limit: "<%= @pleroma[:limit] %>",
  upload_limit: "<%= @pleroma[:upload_limit] %>",
  registrations_open: <%= @pleroma[:registrations_open] %>,
  federating: <%= @pleroma[:federating] %>,
  rewrite_policy: "<%= @pleroma[:rewrite_policy] %>",
  finmoji_enabled: <%= @pleroma[:finmoji_enabled] %>,
  extended_nickname_format: <%= @pleroma[:extended_nickname_format] %>,
  autofollowed_nicknames: "<%= @pleroma[:autofollowed_nicknames] %>"

config :logger,
  :console, format: "[$level] $message\n",
  level: :<%= @pleroma[:log_level] %>

config :pleroma, :chat, 
  enabled: <%= @pleroma[:chat_enabled] %>

import_config "extra/*"
